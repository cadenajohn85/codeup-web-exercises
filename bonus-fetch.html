<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bonus: Fetch</title>
</head>
<body>
    <input type="text" id="user-input">
    <button id="enter-button">Enter</button>


    <script
            src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>
    <script>
        "use strict";
        {
            // Add an input field and submit button (you will need to prevent the default behaviour) that when clicked, runs the following function...
            // Create a function that takes in a username and fetch's the color preference based on the username and sets the background color to that color.

            $("#enter-button").click(function() {
                event.preventDefault();
                const username = $("#user-input").val();
                usePreferredColor(username);
            });

            const usePreferredColor = username => {
                return fetch("data/profiles.json")
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        console.log(data);
                        const userColor = data[username];
                        $("body").css("background", userColor);
                    });
            };

            // console.log(usePreferredColor("sandy123"));


            // -- Ex. 2
            //
            // Using the Star Wars API, log the first film a Star Wars character's homeworld appeared in

            const listFirstFilm = character => {
                return fetch("https://swapi.co/api/people/")
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        console.log(data);
                        return data;
                    })
            };

            listFirstFilm("Leia Organa");

            // const charArray = fetch("https://swapi.co/api/people/");
            // charArray.then(response => console.log(response));

        }
    </script>
</body>
</html>